<!--banner-->
<div class="banner banner-relative mb-5">
  <% if @flat.photos.attached? %>
    <!--cloudinary-->
    <%= cl_image_tag @flat.photos.first.key, alt: "#{@flat.title} - image of the apartment", class: "banner-img img-fluid", crop: :thumb, gravity: :face %>
    <!--cloudinary-->
  <% else %>
    <%= image_tag "banner.png", alt: "banner of the website", class: "banner-img img-fluid" %>
  <% end %>
  <h1 class="banner-title card-title my-4">Booking for <%= @flat.title %></h1>
  <div class="banner-text card-body d-flex flex-column">
    <p><%= @flat.description %></p>
    <div class="d-flex gap-1">
      <p class="card-text"><%= @flat.address %></p>
    </div>
    <div class="d-flex justify-content-start gap-4">
      <p class="card-text">
        <i class="fas fa-users"></i> <%= @flat.number_of_guests %>
      </p>
      <p class="card-text gap-4">
        <i class="fas fa-dollar-sign"></i> <%= @flat.price_per_night %>
      </p>
    </div>
  </div>
</div>
<!--banner-->
<div class="container mb-4">
  <div class="row justify-content-center mt-5">
    <div class="card col-md-8">
      <div class="card-body gap-4">
        <%= form_with(model: [@flat, @booking], local: true) do |f| %>
          <div class="d-flex gap-4">
            <div class="form-group my-4">
              <%= f.label :starts_at %>
              <%= f.date_select :starts_at, class: "form-control" %>
            </div>
            <div class="form-group my-4">
              <%= f.label :ends_at %>
              <%= f.date_select :ends_at, class: "form-control" %>
            </div>
          </div>
          <div class="form-group my-4">
            <%= f.label :messages %>
            <%= f.text_area :messages, class: "form-control" %>
          </div>
          <div class="d-flex justify-content-end gap-4">
            <%= link_to 'Back', flat_path(@flat), class: "btn btn-primary button" %>
            <%= f.submit "Book it!", class: "btn btn-primary button" %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
